/*!
 * headroom.js v0.3.11 - Give your page some headroom. Hide your header until you need it
 * Copyright (c) 2013 Nick Williams - http://wicky.nillia.ms/headroom.js
 * License: MIT
 */
!function(t){"use strict";function e(t){this.callback=t,this.ticking=!1}function i(t,n){n=n||i.options,this.lastKnownScrollY=0,this.elem=t,this.debouncer=new e(this.update.bind(this)),this.tolerance=n.tolerance,this.classes=n.classes,this.offset=n.offset,this.initialised=!1}window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame,e.prototype={constructor:e,update:function(){this.callback&&this.callback(),this.ticking=!1},requestTick:function(){this.ticking||(requestAnimationFrame(this.update.bind(this)),this.ticking=!0)},handleEvent:function(){this.requestTick()}},i.prototype={constructor:i,init:function(){this.elem.classList.add(this.classes.initial),setTimeout(this.attachEvent.bind(this),100)},destroy:function(){this.initialised=!1,window.removeEventListener("scroll",this.debouncer,!1),this.elem.classList.remove(this.classes.unpinned,this.classes.pinned,this.classes.initial)},attachEvent:function(){this.initialised||(this.initialised=!0,window.addEventListener("scroll",this.debouncer,!1))},unpin:function(){this.elem.classList.add(this.classes.unpinned),this.elem.classList.remove(this.classes.pinned)},pin:function(){this.elem.classList.remove(this.classes.unpinned),this.elem.classList.add(this.classes.pinned)},getScrollY:function(){return void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop},update:function(){var t=this.getScrollY(),e=Math.abs(t-this.lastKnownScrollY)>=this.tolerance;0>t||(e&&(t>this.lastKnownScrollY&&t>=this.offset?this.unpin():t<this.lastKnownScrollY&&this.pin()),this.lastKnownScrollY=t)}},i.options={tolerance:0,offset:0,classes:{pinned:"headroom--pinned",unpinned:"headroom--unpinned",initial:"headroom"}},t.Headroom=i}(this),function(){function t(t,e,i){this.pluginCode=e,this.widgetCode=t,this.dataApiCode=i}t.prototype={constructor:t,widget:function(t){return"var headroom = new Headroom(elem, "+JSON.stringify(t,null,"  ")+");\nheadroom.init();\n\n"+"// to destroy\n"+"headroom.destroy();"},plugin:function(t){return'$("header").headroom('+JSON.stringify(t,null,"  ")+");\n\n"+"// to destroy\n"+'$("#header").headroom("destroy");'},dataApi:function(t){return'&lt;header data-headroom data-tolerance="'+t.tolerance+'" '+'data-offset="'+t.offset+'" '+"data-classes='"+JSON.stringify(t.classes)+"'&gt;&lt;/header&gt;\n\n"+"// to destroy, in your JS:\n"+'$("header").data("headroom").destroy();'},generate:function(t){this.pluginCode.innerHTML=this.plugin(t),Prism.highlightElement(this.pluginCode,!1),this.widgetCode.innerHTML=this.widget(t),Prism.highlightElement(this.widgetCode,!1),this.dataApiCode.innerHTML=this.dataApi(t),Prism.highlightElement(this.dataApiCode,!1)}},window.CodeGenerator=t}(),function(){function t(t,e,i){this.inputs=t,this.codeGenerator=i,this.styles=e}t.prototype={constructor:t,init:function(){if(this.inputs){var t=this.getOptions(this.inputs);this.headroom=new Headroom(document.querySelector("header"),t),this.headroom.init(),this.codeGenerator.generate(t),this.listen()}},getOptions:function(){for(var t,e=this.inputs.querySelectorAll("[name=style]"),i=e.length-1;i>=0;i--)if(e[i].checked){t=this.styles[e[i].value];break}return{tolerance:parseInt(this.inputs.querySelector("#tolerance").value,10),offset:parseInt(this.inputs.querySelector("#offset").value,10),classes:t}},updateWidget:function(){var t=this.getOptions(this.inputs),e=this.headroom;e.destroy(),e.classes=t.classes,e.offset=t.offset,e.tolerance=t.tolerance,e.init(),this.codeGenerator.generate(t)},listen:function(){for(var t=this.inputs.length-1;t>=0;t--)this.inputs[t].addEventListener("change",this.updateWidget.bind(this),!1)}};var e=document.querySelector("form"),i=new CodeGenerator(document.querySelector(".widget-code"),document.querySelector(".plugin-code"),document.querySelector(".data-api-code")),n=new t(e,styles,i);n.init()}();